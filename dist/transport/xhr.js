/**! Qoopido.nucleus 3.1.8 | http://nucleus.qoopido.com | (c) 2020 Dirk Lueth */
!function(e,t){"use strict";provide(["/demand/weakmap","/demand/pledge","/demand/validator/isObject","/demand/function/iterate","../url","../function/merge"],(function(n,r,o,a,s,i){var c="XDomainRequest"in e&&e.XDomainRequest||t,u=/%20/g,l=/%5B/g,d=/%5D/g,p=new n;function h(){this.readyState<4&&this.abort()}function f(e){var n,s,i=p.get(this),f=i.settings,m=i.url,T=i.data,g=m.local?new t:new c,w=r.defer(),R=h.bind(g),q=f.timeout;return T&&"GET"===e&&(a(T,m.parameter.set),T=null),f.cache||m.parameter.set("nucleus",+new Date),T&&(s="",a(T,(function(e,t){s+=(s?"&":"")+encodeURIComponent(e)+"="+encodeURIComponent(t)})),T=s.replace(u,"+").replace(l,"[").replace(d,"]")),o(f.xhrOptions)&&a(f.xhrOptions,(function(e,t){g[e]=t})),g.ontimeout=g.onerror=g.onabort=function(){w.reject(g)},g.onprogress=g.onreadystatechange=function(){clearTimeout(n),n=setTimeout(R,q)},g.onload=function(){n=clearTimeout(n),"status"in g&&200!==g.status?w.reject(g):w.resolve(g.responseText,g)},g.open(e,m.href,!0),g.setRequestHeader&&(g.setRequestHeader("Accept",f.accept),T&&"GET"!==e&&g.setRequestHeader("Content-Type",f.contentType),o(f.header)&&a(f.header,(function(e,t){g.setRequestHeader(e,t)}))),g.send(T),n=setTimeout(R,q),w.pledge}function m(e,t,n){return p.set(this,{settings:i({},m.settings,n),url:new s(e),data:t}),this}return m.prototype={get:function(){return f.call(this,"GET")},post:function(){return f.call(this,"POST")},put:function(){return f.call(this,"PUT")},patch:function(){return f.call(this,"PATCH")},delete:function(){return f.call(this,"DELETE")},head:function(){return f.call(this,"HEAD")}},m.settings={accept:"*/*",timeout:8e3,async:!0,cache:!1,username:null,password:null,contentType:"application/x-www-form-urlencoded; charset=UTF-8",header:{},xhrOptions:{}},m}))}(this,XMLHttpRequest);
//# sourceMappingURL=xhr.js.map
