/**! Qoopido.nucleus 3.2.8 | http://nucleus.qoopido.com | (c) 2020 Dirk Lueth */
!function(e,t){"use strict";provide(["/demand/weakmap","/demand/pledge","/demand/validator/isObject","/demand/function/iterate","../url","../function/merge"],(function(n,r,a,s,i,u){var o="XDomainRequest"in e&&e.XDomainRequest||t,c=new n;function d(){this.readyState<4&&this.abort()}function l(e){var n,u=c.get(this),l="string"==typeof u.data,p=u.settings,f=u.url,h=l?u.data:function e(t,n,r){var i,u=0;if(n=n||"",r=r||{},Array.isArray(t))for(u=0;"undefined"!=typeof(i=t[u]);u++)e(i,n+"["+u+"]",r);else a(t)?s(t,(function(t,a){e(a,n?n+"["+t+"]":t,r)})):n&&"undefined"!=typeof t&&(r[n]=t);return r}(u.data),m=f.local?new t:new o,T=r.defer(),g=d.bind(m),w=p.timeout;return h&&"GET"===e&&(l?f.parameter=h:s(h,f.parameter.set,f),h=null),p.cache||f.parameter.set("nucleus",+new Date),h&&!l&&(h=function(e){var t=new i("/");return s(e,t.parameter.set,t),t.search.substr(1)}(h)),a(p.xhrOptions)&&s(p.xhrOptions,(function(e,t){m[e]=t})),m.ontimeout=m.onerror=m.onabort=function(){T.reject(m)},m.onprogress=m.onreadystatechange=function(){clearTimeout(n),n=setTimeout(g,w)},m.onload=function(){n=clearTimeout(n),"status"in m&&200!==m.status?T.reject(m):T.resolve(m.responseText,m)},m.open(e,f.href,!0),m.setRequestHeader&&(m.setRequestHeader("Accept",p.accept),h&&"GET"!==e&&m.setRequestHeader("Content-Type",p.contentType),a(p.header)&&s(p.header,(function(e,t){m.setRequestHeader(e,t)}))),m.send(h),n=setTimeout(g,w),T.pledge}function p(e,t,n){return c.set(this,{settings:u({},p.settings,n),url:new i(e),data:t}),this}return p.prototype={get:function(){return l.call(this,"GET")},post:function(){return l.call(this,"POST")},put:function(){return l.call(this,"PUT")},patch:function(){return l.call(this,"PATCH")},delete:function(){return l.call(this,"DELETE")},head:function(){return l.call(this,"HEAD")}},p.settings={accept:"*/*",timeout:8e3,async:!0,cache:!1,username:null,password:null,contentType:"application/x-www-form-urlencoded; charset=UTF-8",header:{"x-requested-with":"XMLHttpRequest"},xhrOptions:{}},p}))}(this,XMLHttpRequest);
//# sourceMappingURL=xhr.js.map
