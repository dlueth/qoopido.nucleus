{"version":3,"sources":["support/test/element/canvas/todataurl/png.js"],"names":["document","provide","Pledge","testTodataurl","deferred","defer","then","createElement","toDataURL","indexOf","resolve","reject","pledge"],"mappings":"CAMC,SAASA,GACT,aAqBAC,QAAQ,CAAE,iBAAkB,gBAnB5B,SAAoBC,EAAQC,GAC3B,IAAIC,EAAWF,EAAOG,QAetB,OAbAF,EAAcG,KACb,WAGgE,IAFlDN,EAASO,cAAc,UAE1BC,UAAU,aAAaC,QAAQ,kBACxCL,EAASM,UAETN,EAASO,UAGXP,EAASO,QAGHP,EAASQ,SAnBlB,CAuBEZ","file":"png.js","sourcesContent":["/**\n * @use /demand/pledge\n *\n * @require ../todataurl\n */\n\n(function(document) {\n\t'use strict';\n\n\tfunction definition(Pledge, testTodataurl) {\n\t\tvar deferred = Pledge.defer();\n\n\t\ttestTodataurl.then(\n\t\t\tfunction() {\n\t\t\t\tvar sample = document.createElement('canvas');\n\n\t\t\t\tif(sample.toDataURL('image/png').indexOf('data:image/png') === 0) {\n\t\t\t\t\tdeferred.resolve();\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.reject();\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred.reject\n\t\t);\n\n\t\treturn deferred.pledge;\n\t}\n\n\tprovide([ '/demand/pledge', '../todataurl' ], definition);\n}(document));"]}