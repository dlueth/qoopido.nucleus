{"version":3,"sources":["dom/element.js"],"names":["global","document","provide","isObject","isInstanceOf","isTypeOf","generateUuid","iterate","Descriptor","Event","hooksCss","supportMethod","documentBody","body","getElementsByTagName","arrayPrototypeConcat","Array","prototype","concat","arrayPrototypeSlice","slice","objectDefineProperty","Object","defineProperty","objectDefineProperties","defineProperties","head","NULL","STRING_UNDEFINED","STRING_STRING","STRING_CONTENTATTRIBUTE","createElement","STRING_MATCHES","regexMatchTag","regexMatchSpaces","regexMatchChildSeclector","previousSibling","previousElementSibling","element","this","nodeType","nextSibling","nextElementSibling","listener","supportsPassiveListener","processOptions","options","capture","emitEvent","type","detail","event","createEvent","initCustomEvent","node","dispatchEvent","resolveElement","test","replace","toLowerCase","querySelector","exception","Error","resolveArguments","parameters","apply","call","join","split","matchesSelector","selector","pointer","i","path","isDelegate","currentTarget","getSiblings","method","limit","strict","multiple","siblings","push","getParents","parents","parentNode","DomElement","attributes","styles","uuid","self","nodeName","setAttributes","setStyles","noop","Date","get","addEventListener","removeEventListener","error","clone","cloneNode","focus","blur","getPosition","bbox","getBoundingClientRect","left","scrollLeft","top","scrollTop","getOffset","viewport","offsetLeft","offsetTop","getWidth","includeMargin","style","width","offsetWidth","getComputedStyle","parseInt","marginLeft","marginRight","getHeight","height","offsetHeight","marginTop","marginBottom","getContent","getHtml","innerHTML","getAttribute","attribute","getAttributes","result","arguments","getStyle","property","process","getStyles","properties","getSiblingBefore","getSiblingAfter","getSiblingsBefore","getSiblingsAfter","getChildren","matches","match","setAttribute","querySelectorAll","removeAttribute","childNodes","getParent","hasChild","child","contains","hasClass","name","RegExp","className","isVisible","setContent","source","isHtml","value","removeAttributes","setStyle","removeStyle","removeStyles","addClass","removeClass","trim","toggleClass","prepend","target","firstChild","insertBefore","append","insertAdjacentHTML","appendChild","prependTo","appendTo","insertAfter","replaceChild","replaceWith","detach","removeChild","on","events","length","fn","id","handler","isPropagationStopped","originalEvent","one","each","off","emit","data"],"mappings":"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","file":"element.js","sourcesContent":["/**\n * @use /demand/validator/isObject\n * @use /demand/validator/isInstanceOf\n * @use /demand/validator/isTypeOf\n * @use /demand/function/uuid\n * @use /demand/function/iterate\n * @use /demand/descriptor\n *\n * @require ./event\n * @require ../hooks/css\n * @require ../support/method\n */\n\n(function(global, document) {\n\t'use strict';\n\n\tfunction definition(isObject, isInstanceOf, isTypeOf, generateUuid, iterate, Descriptor, Event, hooksCss, supportMethod) {\n\t\tvar //shortcuts\n\t\t\tdocumentBody             = document.body || document.getElementsByTagName('body')[0],\n\t\t\tarrayPrototypeConcat     = Array.prototype.concat,\n\t\t\tarrayPrototypeSlice      = Array.prototype.slice,\n\t\t\tobjectDefineProperty     = Object.defineProperty,\n\t\t\tobjectDefineProperties   = Object.defineProperties,\n\t\t\thead                     = document.getElementsByTagName('head')[0],\n\t\t\t// constants\n\t\t\tNULL                     = null,\n\t\t\tSTRING_UNDEFINED         = 'undefined',\n\t\t\tSTRING_STRING            = 'string',\n\t\t\tSTRING_CONTENTATTRIBUTE  = ('textContent' in document.createElement('a')) ? 'textContent' : 'innerText',\n\t\t\tSTRING_MATCHES           = supportMethod('matches', documentBody) || supportMethod('matchesSelector', documentBody),\n\t\t\t// regular expressions\n\t\t\tregexMatchTag            = /^<(\\w+)\\s*\\/>$/,\n\t\t\tregexMatchSpaces         = / +/g,\n\t\t\tregexMatchChildSeclector = /^\\s*^/,\n\t\t\t// methods\n\t\t\tpreviousSibling          = (!isTypeOf(head.previousElementSibling, STRING_UNDEFINED)) ? function previousSibling() { return this.previousElementSibling; } : function previousSibling() { var element = this; while(element = element.previousSibling) { if(element.nodeType === 1 ) { return element; } } },\n\t\t\tnextSibling              = (!isTypeOf(head.nextElementSibling, STRING_UNDEFINED)) ? function nextSibling() { return this.nextElementSibling; } : function nextSibling() { var element = this; while(element = element.nextSibling) { if(element.nodeType === 1 ) { return element; } } },\n\t\t\t// flags\n\t\t\t// general storage & objects\n\t\t\tlistener                 = {},\n\t\t\tsupportsPassiveListener  = false;\n\n\t\t(function() {\n\t\t\tvar noop  = function() {},\n\t\t\t\tevent = '' + (+new Date()),\n\t\t\t\toptions;\n\n\t\t\ttry {\n\t\t\t\toptions = Object.defineProperty({}, 'passive', {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\tsupportsPassiveListener = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tglobal.addEventListener(event, noop, options);\n\t\t\t\tglobal.removeEventListener(event, noop, options);\n\t\t\t} catch(error) {} /* eslint-disable-line no-empty */\n\t\t}());\n\n\t\tfunction processOptions(options) {\n\t\t\tif(supportsPassiveListener || typeof options === 'boolean') {\n\t\t\t\treturn options;\n\t\t\t}\n\n\t\t\treturn options && options.capture;\n\t\t}\n\n\t\tfunction emitEvent(type, detail) {\n\t\t\tvar self = this,\n\t\t\t\tevent;\n\n\t\t\tevent = document.createEvent('CustomEvent');\n\t\t\tevent.initCustomEvent(type, type !== 'load' && type !== 'resize', type !== 'load' && type !== 'resize', detail);\n\n\t\t\tself.node.dispatchEvent(event);\n\t\t}\n\n\t\tfunction resolveElement(element) {\n\t\t\tif(typeof element === 'string') {\n\t\t\t\ttry {\n\t\t\t\t\tif(regexMatchTag.test(element)) {\n\t\t\t\t\t\telement = document.createElement(element.replace(regexMatchTag, '$1').toLowerCase());\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement = document.querySelector(element);\n\t\t\t\t\t}\n\t\t\t\t} catch(exception) {\n\t\t\t\t\telement = NULL;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!element) {\n\t\t\t\tthrow new Error('Element could not be resolved');\n\t\t\t}\n\n\t\t\treturn element;\n\t\t}\n\n\t\tfunction resolveArguments(parameters) {\n\t\t\treturn arrayPrototypeConcat.apply([], arrayPrototypeSlice.call(parameters)).join(' ').split(regexMatchSpaces);\n\t\t}\n\n\t\tfunction matchesSelector(event, selector) {\n\t\t\tvar i = 0, pointer;\n\n\t\t\tfor(; pointer = event.path[i]; i++) {\n\t\t\t\tif(pointer[STRING_MATCHES] && pointer[STRING_MATCHES](selector)) {\n\t\t\t\t\tevent.isDelegate    = true;\n\t\t\t\t\tevent.currentTarget = pointer;\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tif(pointer === event.currentTarget) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getSiblings(pointer, method, selector, limit, strict) {\n\t\t\tvar multiple = !(limit && limit === 1),\n\t\t\t\tsiblings = multiple ? [] : false;\n\n\t\t\tstrict = multiple ? false : strict;\n\n\t\t\twhile(pointer = method.call(pointer)) {\n\t\t\t\tif(pointer.nodeType === 1) {\n\t\t\t\t\tif(!selector || pointer[STRING_MATCHES](selector)) {\n\t\t\t\t\t\tif(multiple) {\n\t\t\t\t\t\t\tsiblings.push(pointer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(strict) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn siblings;\n\t\t}\n\n\t\tfunction getParents(pointer, selector, limit, strict) {\n\t\t\tvar multiple = !(limit && limit === 1),\n\t\t\t\tparents = multiple ? [] : false;\n\n\t\t\tstrict   = multiple ? false : strict;\n\n\t\t\twhile(pointer = pointer.parentNode) {\n\t\t\t\tif(pointer.nodeType === 1) {\n\t\t\t\t\tif(!selector || pointer[STRING_MATCHES](selector)) {\n\t\t\t\t\t\tif(multiple) {\n\t\t\t\t\t\t\tparents.push(pointer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn pointer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(strict) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn parents\n\t\t}\n\n\t\tfunction DomElement(element, attributes, styles) {\n\t\t\tvar self = this,\n\t\t\t\tuuid;\n\n\t\t\telement = resolveElement(element);\n\t\t\tuuid    = element.uuid;\n\n\t\t\tif(!uuid) {\n\t\t\t\tuuid           = generateUuid();\n\t\t\t\tlistener[uuid] = {};\n\n\t\t\t\tobjectDefineProperty(element, 'uuid', new Descriptor(uuid));\n\t\t\t}\n\n\t\t\tobjectDefineProperties(self, {\n\t\t\t\tuuid: new Descriptor(uuid),\n\t\t\t\ttype: new Descriptor(element === global ? '#window' : element.nodeName),\n\t\t\t\tnode: new Descriptor(element)\n\t\t\t});\n\n\t\t\tif(isObject(attributes)) {\n\t\t\t\tself.setAttributes(attributes);\n\t\t\t}\n\n\t\t\tif(isObject(styles)) {\n\t\t\t\tself.setStyles(styles);\n\t\t\t}\n\n\t\t\treturn self;\n\t\t}\n\n\t\tDomElement.prototype = {\n\t\t\t/* only for reference\n\t\t\t uuid: NULL,\n\t\t\t type: NULL,\n\t\t\t node: NULL\n\t\t\t */\n\t\t\tclone: function() {\n\t\t\t\treturn new DomElement(this.node.cloneNode(true));\n\t\t\t},\n\t\t\tfocus: function() {\n\t\t\t\tthis.node.focus();\n\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tblur: function() {\n\t\t\t\tthis.node.blur();\n\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tgetPosition: function() {\n\t\t\t\tvar bbox = this.node.getBoundingClientRect();\n\n\t\t\t\treturn {\n\t\t\t\t\tleft: bbox.left + documentBody.scrollLeft,\n\t\t\t\t\ttop:  bbox.top + documentBody.scrollTop\n\t\t\t\t};\n\t\t\t},\n\t\t\tgetOffset: function(viewport) {\n\t\t\t\tvar node = this.node,\n\t\t\t\t\tbbox = viewport ? node.getBoundingClientRect() : null;\n\n\t\t\t\treturn {\n\t\t\t\t\tleft: viewport ? bbox.left : node.offsetLeft,\n\t\t\t\t\ttop:  viewport ? bbox.top : node.offsetTop\n\t\t\t\t};\n\t\t\t},\n\t\t\tgetWidth: function(includeMargin) {\n\t\t\t\tvar node  = this.node,\n\t\t\t\t\twidth = node.offsetWidth,\n\t\t\t\t\tstyle;\n\n\t\t\t\tif(includeMargin) {\n\t\t\t\t\tstyle = getComputedStyle(node);\n\n\t\t\t\t\twidth += parseInt(style.marginLeft) + parseInt(style.marginRight);\n\t\t\t\t}\n\n\t\t\t\treturn width;\n\t\t\t},\n\t\t\tgetHeight: function(includeMargin) {\n\t\t\t\tvar node   = this.node,\n\t\t\t\t\theight = node.offsetHeight,\n\t\t\t\t\tstyle;\n\n\t\t\t\tif(includeMargin) {\n\t\t\t\t\tstyle = getComputedStyle(node);\n\n\t\t\t\t\theight += parseInt(style.marginTop) + parseInt(style.marginBottom);\n\t\t\t\t}\n\n\t\t\t\treturn height;\n\t\t\t},\n\t\t\tgetContent: function(getHtml) {\n\t\t\t\tvar node = this.node;\n\n\t\t\t\treturn getHtml ? node.innerHTML : node[STRING_CONTENTATTRIBUTE];\n\t\t\t},\n\t\t\tgetAttribute: function(attribute) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(attribute, STRING_STRING)) {\n\t\t\t\t\treturn self.node.getAttribute(attribute);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetAttributes: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tresult     = {},\n\t\t\t\t\tattributes = resolveArguments(arguments),\n\t\t\t\t\ti = 0, attribute;\n\n\t\t\t\tfor(; attribute = attributes[i]; i++) {\n\t\t\t\t\tresult[attribute] = self.node.getAttribute(attribute);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tgetStyle: function(property) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(property, STRING_STRING)) {\n\t\t\t\t\treturn hooksCss.process('get', self.node, property);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetStyles: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tresult     = {},\n\t\t\t\t\tproperties = resolveArguments(arguments),\n\t\t\t\t\ti = 0, property;\n\n\t\t\t\tfor(; property = properties[i]; i++) {\n\t\t\t\t\tresult[property] = hooksCss.process('get', self.node, property);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tgetSiblingBefore: function(selector, strict) {\n\t\t\t\treturn getSiblings(this.node, previousSibling, selector, 1, strict);\n\t\t\t},\n\t\t\tgetSiblingAfter: function(selector, strict) {\n\t\t\t\treturn getSiblings(this.node, nextSibling, selector, 1, strict);\n\t\t\t},\n\t\t\tgetSiblings: function(selector) {\n\t\t\t\treturn this.getSiblingsBefore(selector).concat(this.getSiblingsAfter(selector));\n\t\t\t},\n\t\t\tgetSiblingsBefore: function(selector) {\n\t\t\t\treturn getSiblings(this.node, previousSibling, selector);\n\t\t\t},\n\t\t\tgetSiblingsAfter: function(selector) {\n\t\t\t\treturn getSiblings(this.node, nextSibling, selector);\n\t\t\t},\n\t\t\tgetChildren: function(selector) {\n\t\t\t\tvar self = this.node,\n\t\t\t\t\tuuid, matches, i, match;\n\n\t\t\t\tif(!selector) {\n\t\t\t\t\tmatches = [];\n\n\t\t\t\t\tfor(i = 0; match = self.childNodes[i]; i++) {\n\t\t\t\t\t\tif(match.nodeType === 1) {\n\t\t\t\t\t\t\tmatches.push(match);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if(regexMatchChildSeclector.test(selector)) {\n\t\t\t\t\tuuid = self.uuid;\n\n\t\t\t\t\tself.setAttribute('nucleus-uuid', uuid);\n\n\t\t\t\t\tselector = '[nucleus-uuid=\"' + uuid + '\"] ' + selector;\n\t\t\t\t\tmatches  = arrayPrototypeSlice.call(self.parentNode.querySelectorAll(selector));\n\n\t\t\t\t\tself.removeAttribute('nucleus-uuid');\n\t\t\t\t} else {\n\t\t\t\t\tmatches = arrayPrototypeSlice.call(self.querySelectorAll(selector));\n\t\t\t\t}\n\n\t\t\t\treturn matches;\n\t\t\t},\n\t\t\tgetParent: function(selector, strict) {\n\t\t\t\treturn getParents(this.node, selector, 1, strict);\n\t\t\t},\n\t\t\tgetParents: function(selector) {\n\t\t\t\treturn getParents(this.node, selector);\n\t\t\t},\n\t\t\thasChild: function(child) {\n\t\t\t\tvar node = this.node;\n\n\t\t\t\treturn node !== child && node.contains(child.node || child);\n\t\t\t},\n\t\t\thasClass: function(name) {\n\t\t\t\treturn (name) ? (new RegExp('(?:^|\\\\s)' + name + '(?:\\\\s|$)')).test(this.node.className) : false;\n\t\t\t},\n\t\t\tisVisible: function() {\n\t\t\t\tvar self = this,\n\t\t\t\t\tnode = self.node;\n\n\t\t\t\treturn !((node.offsetWidth <= 0 && node.offsetHeight <= 0) || self.getStyle('visibility') === 'hidden' || self.getStyle('opacity') <= 0);\n\t\t\t},\n\t\t\tsetContent: function(source, isHtml) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tnode = self.node;\n\n\t\t\t\tif(isHtml) {\n\t\t\t\t\tnode.innerHTML = source;\n\t\t\t\t} else {\n\t\t\t\t\tnode[STRING_CONTENTATTRIBUTE] = source;\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetAttribute: function(attribute, value) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(attribute, STRING_STRING)) {\n\t\t\t\t\tself.node.setAttribute(attribute, value);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetAttributes: function(attributes) {\n\t\t\t\tvar self = this;\n\n\t\t\t\titerate(attributes, function(attribute, value) {\n\t\t\t\t\tself.setAttribute(attribute, value);\n\t\t\t\t});\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveAttribute: function(attribute) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(attribute, STRING_STRING)) {\n\t\t\t\t\tself.node.removeAttribute(attribute);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveAttributes: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tattributes = resolveArguments(arguments),\n\t\t\t\t\ti = 0, attribute;\n\n\t\t\t\tfor(; attribute = attributes[i]; i++) {\n\t\t\t\t\tself.removeAttribute(attribute);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetStyle: function(property, value) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(property, STRING_STRING)) {\n\t\t\t\t\thooksCss.process('set', self.node, property, value);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tsetStyles: function(properties) {\n\t\t\t\tvar self = this;\n\n\t\t\t\titerate(properties, function(property, value) {\n\t\t\t\t\thooksCss.process('set', self.node, property, value);\n\t\t\t\t});\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveStyle: function(property) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(isTypeOf(property, STRING_STRING)) {\n\t\t\t\t\tself.setStyle(property, '');\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveStyles: function() {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tproperties = resolveArguments(arguments),\n\t\t\t\t\ti = 0, property;\n\n\t\t\t\tfor(; property = properties[i]; i++) {\n\t\t\t\t\tself.setStyle(property, '');\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\taddClass: function(name) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(name && !self.hasClass(name)) {\n\t\t\t\t\tself.node.className += (self.node.className) ? ' ' + name : name;\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tremoveClass: function(name) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(name && self.hasClass(name)) {\n\t\t\t\t\tself.node.className = self.node.className.replace(new RegExp('(?:^|\\\\s)' + name + '(?!\\\\S)'), '').trim();\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\ttoggleClass: function(name) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(name) {\n\t\t\t\t\tself.hasClass(name) ? self.removeClass(name) : self.addClass(name);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tprepend: function(element) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\ttarget = self.node;\n\n\t\t\t\tif(element) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\telement = (isInstanceOf(element, DomElement)) ? element.node : resolveElement(element);\n\n\t\t\t\t\t\ttarget.firstChild ? target.insertBefore(element, target.firstChild) : self.append(element);\n\t\t\t\t\t} catch(exception) {\n\t\t\t\t\t\ttarget.insertAdjacentHTML('afterBegin', element);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tappend: function(element) {\n\t\t\t\tvar self   = this,\n\t\t\t\t\ttarget = self.node;\n\n\t\t\t\tif(element) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttarget.appendChild((isInstanceOf(element, DomElement)) ? element.node : resolveElement(element));\n\t\t\t\t\t} catch(exception) {\n\t\t\t\t\t\ttarget.insertAdjacentHTML('beforeEnd', element);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tprependTo: function(target) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tnode = self.node;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target  = target.node || resolveElement(target)).firstChild ? target.insertBefore(node, target.firstChild) : self.appendTo(target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tappendTo: function(target) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target.node || resolveElement(target)).appendChild(self.node);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tinsertBefore: function(target) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tnode = self.node;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target  = target.node || resolveElement(target)).parentNode.insertBefore(node, target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tinsertAfter: function(target) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tnode = self.node;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target = target.node || resolveElement(target)).nextSibling ? target.parentNode.insertBefore(node, target.nextSibling) : self.appendTo(target.parentNode);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\treplace: function(target) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tnode = self.node;\n\n\t\t\t\tif(target) {\n\t\t\t\t\t(target  = target.node || resolveElement(target)).parentNode.replaceChild(node, target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\treplaceWith: function(element) {\n\t\t\t\tvar self    = this,\n\t\t\t\t\ttarget = self.node;\n\n\t\t\t\tif(element) {\n\t\t\t\t\telement = (isInstanceOf(element, DomElement)) ? element.node : resolveElement(element);\n\n\t\t\t\t\ttarget.parentNode.replaceChild(element, target);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tdetach: function() {\n\t\t\t\tvar self = this,\n\t\t\t\t\tnode = self.node;\n\n\t\t\t\tnode.parentNode && node.parentNode.removeChild(node);\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\ton: function(events) {\n\t\t\t\tvar self     = this,\n\t\t\t\t\tselector = (arguments.length === 4 || typeof arguments[1] === 'string') ? arguments[1] : NULL,\n\t\t\t\t\tfn       = (arguments.length === 4 || typeof arguments[2] === 'function') ? arguments[2] : arguments[1],\n\t\t\t\t\toptions  = processOptions((arguments.length > 3) ? arguments[3] : arguments[2]),\n\t\t\t\t\tuuid     = fn.uuid || (fn.uuid = generateUuid()),\n\t\t\t\t\ti = 0, event;\n\n\t\t\t\tevents = events.split(regexMatchSpaces);\n\n\t\t\t\tfor(; (event = events[i]); i++) {\n\t\t\t\t\tvar id      = event + '-' + uuid,\n\t\t\t\t\t\thandler = function(event) {\n\t\t\t\t\t\t\tevent = new Event(event);\n\n\t\t\t\t\t\t\tif(!event.isPropagationStopped) {\n\t\t\t\t\t\t\t\tevent.uuid = generateUuid();\n\n\t\t\t\t\t\t\t\tif(!selector || matchesSelector(event, selector)) {\n\t\t\t\t\t\t\t\t\tfn.call(event.currentTarget, event, event.originalEvent.detail);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\thandler.type            = event;\n\t\t\t\t\tlistener[self.uuid][id] = handler;\n\n\t\t\t\t\tself.node.addEventListener(event, handler, options);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\tone: function(events) {\n\t\t\t\tvar self     = this,\n\t\t\t\t\tselector = (arguments.length === 5 || typeof arguments[1] === 'string') ? arguments[1] : NULL,\n\t\t\t\t\tfn       = (arguments.length === 5 || typeof arguments[2] === 'function') ? arguments[2] : arguments[1],\n\t\t\t\t\toptions  = processOptions((arguments.length > 3) ? arguments[3] : arguments[2]),\n\t\t\t\t\teach     = ((arguments.length > 4) ? arguments[4] : arguments[3]) !== false,\n\t\t\t\t\thandler  = function(event) {\n\t\t\t\t\t\tself.off(((each === true) ? event.type : events), handler, options);\n\n\t\t\t\t\t\tfn.call(this, event, event.originalEvent.detail);\n\t\t\t\t\t};\n\n\t\t\t\tfn.uuid = handler.uuid = generateUuid();\n\n\t\t\t\tif(selector) {\n\t\t\t\t\tself.on(events, selector, handler, options);\n\t\t\t\t} else {\n\t\t\t\t\tself.on(events, handler, options);\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\toff: function(events, fn, options) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tnode = self.node,\n\t\t\t\t\ti = 0, event, id, handler;\n\n\t\t\t\toptions = processOptions(options);\n\t\t\t\tevents  = events.split(' ');\n\n\t\t\t\tfor(; event = events[i]; i++) {\n\t\t\t\t\tid      = fn.uuid && event + '-' + fn.uuid || NULL;\n\t\t\t\t\thandler = id && listener[self.uuid][id] || NULL;\n\n\t\t\t\t\tif(handler) {\n\t\t\t\t\t\tnode.removeEventListener(event, handler, options);\n\n\t\t\t\t\t\tdelete listener[self.uuid][id];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode.removeEventListener(event, fn, options);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self;\n\t\t\t},\n\t\t\temit: function(event, data) {\n\t\t\t\tvar self = this;\n\n\t\t\t\temitEvent.call(self, event, data);\n\n\t\t\t\treturn self;\n\t\t\t}\n\t\t};\n\n\t\treturn DomElement;\n\t}\n\n\tprovide([ '/demand/validator/isObject', '/demand/validator/isInstanceOf', '/demand/validator/isTypeOf', '/demand/function/uuid', '/demand/function/iterate', '/demand/descriptor', './event', '../hooks/css', '../support/method' ], definition);\n}(this, document));\n"]}