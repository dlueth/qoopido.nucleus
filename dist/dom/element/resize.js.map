{"version":3,"sources":["dom/element/resize.js"],"names":["provide","WeakMap","DomElement","weakmap","supportsPointerEvents","document","documentMode","createElement","style","Resize","node","self","call","this","position","getStyle","sensor","draggable","pointerEvents","userSelect","userDrag","zIndex","display","opacity","overflow","left","top","width","height","margin","padding","border","setStyle","one","contentWindow","on","emit","appendTo","extends","get","set"],"mappings":";CAAC,WACA,aAsDAA,QAAQ,CAAE,kBAAmB,eApD7B,SAAoBC,EAASC,GAC5B,IAAIC,EAAwB,IAAIF,EAC/BG,EAAwBC,SAASC,aAAe,IAAM,kBAAmBD,SAASE,cAAc,UAAUC,MAE3G,SAASC,EAAOC,GACf,IAAIC,EAAWT,EAAWU,KAAKC,KAAMH,GACpCI,EAAWH,EAAKI,SAAS,YACzBC,EAAW,IAAId,EAAW,aAAc,CAAEe,UAAW,SAAW,CAC/DC,cAAe,OACfC,WAAe,OACfC,SAAe,OACfC,OAAe,KACfC,QAAe,QACfC,QAAe,EACfC,SAAe,OACfV,SAAe,WACfW,KAAe,EACfC,IAAe,QACfC,MAAe,OACfC,OAAe,OACfC,OAAe,EACfC,QAAe,EACfC,OAAe,IAGb3B,GACHY,EAAOgB,SAAS,aAAc,UAGf,WAAblB,GAAsC,KAAbA,GAC3BH,EAAKqB,SAAS,WAAY,YAG3BhB,EACEiB,IAAI,QAAQ,WACZ,IAAI/B,EAAWc,EAAON,KAAKwB,eACzBC,GAAG,UAAU,WACbxB,EAAKyB,KAAK,gBAGZC,SAAS1B,GASZ,OANAF,EAAO6B,QAAQpC,GAEf,SAAiBQ,GAChB,OAAOP,EAAQoC,IAAI7B,IAASP,EAAQqC,IAAI9B,EAAM,IAAID,EAAOC,IAAO6B,IAAI7B,OAjDvE","file":"resize.js","sourcesContent":["(function() {\n\t'use strict';\n\n\tfunction definition(WeakMap, DomElement) {\n\t\tvar weakmap               = new WeakMap(),\n\t\t\tsupportsPointerEvents = document.documentMode < 11 && 'pointerEvents' in document.createElement('iframe').style;\n\n\t\tfunction Resize(node) {\n\t\t\tvar self     = DomElement.call(this, node),\n\t\t\t\tposition = self.getStyle('position'),\n\t\t\t\tsensor   = new DomElement('<iframe />', { draggable: 'false' }, {\n\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\tuserSelect:    'none',\n\t\t\t\t\tuserDrag:      'none',\n\t\t\t\t\tzIndex:        '-1',\n\t\t\t\t\tdisplay:       'block',\n\t\t\t\t\topacity:       0,\n\t\t\t\t\toverflow:      'auto',\n\t\t\t\t\tposition:      'absolute',\n\t\t\t\t\tleft:          0,\n\t\t\t\t\ttop:           '-100%',\n\t\t\t\t\twidth:         '100%',\n\t\t\t\t\theight:        '100%',\n\t\t\t\t\tmargin:        0,\n\t\t\t\t\tpadding:       0,\n\t\t\t\t\tborder:        0\n\t\t\t\t});\n\n\t\t\tif(!supportsPointerEvents) {\n\t\t\t\tsensor.setStyle('visibility', 'hidden');\n\t\t\t}\n\n\t\t\tif(position === 'static' || position === '') {\n\t\t\t\tself.setStyle('position', 'relative');\n\t\t\t}\n\n\t\t\tsensor\n\t\t\t\t.one('load', function() {\n\t\t\t\t\tnew DomElement(sensor.node.contentWindow)\n\t\t\t\t\t\t.on('resize', function() {\n\t\t\t\t\t\t\tself.emit('resize');\n\t\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.appendTo(self);\n\t\t}\n\n\t\tResize.extends(DomElement);\n\n\t\tfunction Factory(node) {\n\t\t\treturn weakmap.get(node) || weakmap.set(node, new Resize(node)).get(node);\n\t\t}\n\n\t\treturn Factory;\n\t}\n\n\tprovide([ '/demand/weakmap', '../element' ], definition);\n}());\n"]}