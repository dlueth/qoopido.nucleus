{"version":3,"sources":["dom/element/resize.js"],"names":["provide","WeakMap","DomElement","weakmap","supportsPointerEvents","document","documentMode","createElement","style","styles","pointerEvents","userSelect","userDrag","zIndex","display","opacity","position","left","top","width","height","margin","padding","border","visibility","node","sensor","self","get","set","call","this","getStyle","draggable","setStyle","one","contentWindow","onresize","emit","appendTo","extends"],"mappings":";CAAC,WACA,aAsDAA,QAAQ,CAAE,kBAAmB,eApD7B,SAAoBC,EAASC,GAC5B,IAAIC,EAAwB,IAAIF,EAC/BG,IAAwBC,SAASC,aAAe,KAAa,kBAAmBD,SAASE,cAAc,UAAUC,MACjHC,EAAwB,CACvBC,cAAe,OACfC,WAAe,OACfC,SAAe,OACfC,OAAe,KACfC,QAAe,QACfC,QAAe,EACfC,SAAe,WACfC,KAAe,EACfC,IAAe,QACfC,MAAe,OACfC,OAAe,OACfC,OAAe,UACfC,QAAe,EACfC,OAAe,QAgCjB,OA7BInB,IACHK,EAAOe,WAAa,UAGrB,SAAgBC,GACf,IACCT,EAAUU,EADPC,EAAOxB,EAAQyB,IAAIH,GAGvB,GAAGE,EACF,OAAOA,EAIRX,GADAW,EAAWxB,EAAQ0B,IAAIJ,EAAMvB,EAAW4B,KAAKC,KAAMN,IAAOG,IAAIH,IAC9CO,SAAS,YACzBN,EAAW,IAAIxB,EAAW,aAAc,CAAE+B,UAAW,SAAWxB,GAEhD,WAAbO,GAAsC,KAAbA,GAC3BW,EAAKO,SAAS,WAAY,YAG3BR,EACES,IAAI,QAAQ,WACZT,EAAOD,KAAKW,cAAcC,SAAW,WACpCV,EAAKW,KAAK,cAGXC,SAASZ,IAGEa,QAAQtC,MApDxB","file":"resize.js","sourcesContent":["(function() {\n\t'use strict';\n\n\tfunction definition(WeakMap, DomElement) {\n\t\tvar weakmap               = new WeakMap(),\n\t\t\tsupportsPointerEvents = document.documentMode < 11 ? false : 'pointerEvents' in document.createElement('iframe').style,\n\t\t\tstyles                = {\n\t\t\t\tpointerEvents: 'none',\n\t\t\t\tuserSelect:    'none',\n\t\t\t\tuserDrag:      'none',\n\t\t\t\tzIndex:        '-1',\n\t\t\t\tdisplay:       'block',\n\t\t\t\topacity:       0,\n\t\t\t\tposition:      'absolute',\n\t\t\t\tleft:          0,\n\t\t\t\ttop:           '-100%',\n\t\t\t\twidth:         '100%',\n\t\t\t\theight:        '100%',\n\t\t\t\tmargin:        '1px 0 0',\n\t\t\t\tpadding:       0,\n\t\t\t\tborder:        'none'\n\t\t\t};\n\n\t\tif(!supportsPointerEvents) {\n\t\t\tstyles.visibility = 'hidden';\n\t\t}\n\n\t\tfunction Resize(node) {\n\t\t\tvar self = weakmap.get(node),\n\t\t\t\tposition, sensor;\n\n\t\t\tif(self) {\n\t\t\t\treturn self;\n\t\t\t}\n\n\t\t\tself     = weakmap.set(node, DomElement.call(this, node)).get(node);\n\t\t\tposition = self.getStyle('position');\n\t\t\tsensor   = new DomElement('<iframe />', { draggable: 'false' }, styles);\n\n\t\t\tif(position === 'static' || position === '') {\n\t\t\t\tself.setStyle('position', 'relative');\n\t\t\t}\n\n\t\t\tsensor\n\t\t\t\t.one('load', function() {\n\t\t\t\t\tsensor.node.contentWindow.onresize = function() {\n\t\t\t\t\t\tself.emit('resize');\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.appendTo(self);\n\t\t}\n\n\t\treturn Resize.extends(DomElement);\n\t}\n\n\tprovide([ '/demand/weakmap', '../element' ], definition);\n}());\n"]}