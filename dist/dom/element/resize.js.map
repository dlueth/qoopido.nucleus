{"version":3,"sources":["dom/element/resize.js"],"names":["provide","WeakMap","DomElement","weakmap","supportsPointerEvents","document","documentMode","createElement","style","styles","pointerEvents","userSelect","userDrag","zIndex","display","opacity","position","left","top","width","height","margin","padding","border","visibility","node","sensor","self","call","this","instance","get","getStyle","draggable","aria-hidden","setStyle","one","contentWindow","onresize","emit","appendTo","set","extends"],"mappings":";CAAC,WACA,aAwDAA,QAAQ,CAAE,kBAAmB,eAtD7B,SAAoBC,EAASC,GAC5B,IAAIC,EAAwB,IAAIF,EAC/BG,IAAwBC,SAASC,aAAe,KAAa,kBAAmBD,SAASE,cAAc,UAAUC,MACjHC,EAAwB,CACvBC,cAAe,OACfC,WAAe,OACfC,SAAe,OACfC,OAAe,KACfC,QAAe,QACfC,QAAe,EACfC,SAAe,WACfC,KAAe,EACfC,IAAe,QACfC,MAAe,OACfC,OAAe,OACfC,OAAe,UACfC,QAAe,EACfC,OAAe,QAkCjB,OA/BInB,IACHK,EAAOe,WAAa,UAGrB,SAAgBC,GACf,IAECT,EAAUU,EAFPC,EAAWzB,EAAW0B,KAAKC,KAAMJ,GACpCK,EAAW3B,EAAQ4B,IAAIJ,EAAKF,MAG7B,GAAGK,EACF,OAAOA,EAGRd,EAAWW,EAAKK,SAAS,YACzBN,EAAW,IAAIxB,EAAW,aAAc,CAAE+B,UAAW,QAASC,eAAe,GAAQzB,GAErE,WAAbO,GAAsC,KAAbA,GAC3BW,EAAKQ,SAAS,WAAY,YAG3BT,EACEU,IAAI,QAAQ,WACZV,EAAOD,KAAKY,cAAcC,SAAW,WACpCX,EAAKY,KAAK,cAGXC,SAASb,GAEXxB,EAAQsC,IAAId,EAAKF,KAAME,IAGVe,QAAQxC,MAtDxB","file":"resize.js","sourcesContent":["(function() {\n\t'use strict';\n\n\tfunction definition(WeakMap, DomElement) {\n\t\tvar weakmap               = new WeakMap(),\n\t\t\tsupportsPointerEvents = document.documentMode < 11 ? false : 'pointerEvents' in document.createElement('iframe').style,\n\t\t\tstyles                = {\n\t\t\t\tpointerEvents: 'none',\n\t\t\t\tuserSelect:    'none',\n\t\t\t\tuserDrag:      'none',\n\t\t\t\tzIndex:        '-1',\n\t\t\t\tdisplay:       'block',\n\t\t\t\topacity:       0,\n\t\t\t\tposition:      'absolute',\n\t\t\t\tleft:          0,\n\t\t\t\ttop:           '-100%',\n\t\t\t\twidth:         '100%',\n\t\t\t\theight:        '100%',\n\t\t\t\tmargin:        '1px 0 0',\n\t\t\t\tpadding:       0,\n\t\t\t\tborder:        'none'\n\t\t\t};\n\n\t\tif(!supportsPointerEvents) {\n\t\t\tstyles.visibility = 'hidden';\n\t\t}\n\n\t\tfunction Resize(node) {\n\t\t\tvar self     = DomElement.call(this, node),\n\t\t\t\tinstance = weakmap.get(self.node),\n\t\t\t\tposition, sensor;\n\n\t\t\tif(instance) {\n\t\t\t\treturn instance;\n\t\t\t}\n\n\t\t\tposition = self.getStyle('position');\n\t\t\tsensor   = new DomElement('<iframe />', { draggable: 'false', 'aria-hidden': true }, styles);\n\n\t\t\tif(position === 'static' || position === '') {\n\t\t\t\tself.setStyle('position', 'relative');\n\t\t\t}\n\n\t\t\tsensor\n\t\t\t\t.one('load', function() {\n\t\t\t\t\tsensor.node.contentWindow.onresize = function() {\n\t\t\t\t\t\tself.emit('resize');\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.appendTo(self);\n\n\t\t\tweakmap.set(self.node, self);\n\t\t}\n\n\t\treturn Resize.extends(DomElement);\n\t}\n\n\tprovide([ '/demand/weakmap', '../element' ], definition);\n}());\n"]}