{"version":3,"sources":["dom/event.js"],"names":["global","provide","hooksEvent","getTarget","event","target","srcElement","document","nodeType","parentNode","getPath","path","pointer","push","DomEvent","self","this","currentTarget","Object","defineProperties","value","enumerable","originalEvent","isDefaultPrevented","get","isPropagationStopped","set","node","indexOf","process","prototype","isDelegate","preventDefault","cancelable","passive","returnValue","stopPropagation","cancelBubble","stopImmediatePropagation"],"mappings":";CAIC,SAASA,GACT,aAkFAC,QAAQ,CAAE,mBAhFV,SAAoBC,GACnB,SAASC,EAAUC,GAClB,IAAIC,EAASD,EAAMC,QAAUD,EAAME,YAAcC,SAEjD,OAA2B,IAApBF,EAAOG,SAAiBH,EAAOI,WAAaJ,EAGpD,SAASK,EAAQN,GAChB,IAAIO,EAAU,GACbC,EAAUR,EAAMC,OAEjB,GACCM,EAAKE,KAAKD,SACFA,EAAUA,EAAQH,YAI3B,OAFAE,EAAKE,KAAKb,GAEHW,EAGR,SAASG,EAASV,GACjB,IAAIW,EAAgBC,KACnBC,EAAgBb,EAAMa,cAevB,OAbAC,OAAOC,iBAAiBJ,EAAM,CAC7BV,OAAsB,CAAEe,MAAOjB,EAAUC,GAAQiB,YAAY,GAC7DV,KAAsB,CAAES,MAAOV,EAAQN,GAAQiB,YAAY,GAC3DC,cAAsB,CAAEF,MAAOhB,EAAOiB,YAAY,GAClDE,mBAAsB,CAAEC,IAAK,WAAa,QAAUpB,EAAsB,kBAAMiB,YAAY,GAC5FI,qBAAsB,CAAED,IAAK,WAAa,QAAUpB,EAAkB,cAAMiB,YAAY,GACxFJ,cAAsB,CACrBO,IAAY,WAAa,OAAOP,GAChCS,IAAY,SAASC,IAAwC,IAA7BZ,EAAKJ,KAAKiB,QAAQD,KAAgBV,EAAgBU,IAClFN,YAAY,KAIPnB,EAAW2B,QAAQd,EAAMX,GAwCjC,OArCAU,EAASgB,UAAY,CACpBC,YAAY,EACZC,eAAgB,WACf,IAAIjB,EAAQC,KACXZ,EAAQW,EAAKO,eAES,IAApBP,EAAKkB,YAAyBlB,EAAKmB,UAClC9B,EAAM4B,eACR5B,EAAM4B,iBAEN5B,EAAM+B,aAAc,IAIvBC,gBAAiB,WAChB,IACChC,EADWY,KACEM,cAEXlB,EAAMgC,iBACRhC,EAAMgC,kBAGPhC,EAAMiC,cAAc,GAErBC,yBAA0B,WACzB,IACClC,EADWY,KACEM,cAEXlB,EAAMkC,0BACRlC,EAAMkC,2BAJKtB,KAOPoB,oBAKAtB,KAhFT,CAoFEE","file":"event.js","sourcesContent":["/**\n * @require ../hooks/event\n */\n\n(function(global) {\n\t'use strict';\n\n\tfunction definition(hooksEvent) {\n\t\tfunction getTarget(event) {\n\t\t\tvar target = event.target || event.srcElement || document;\n\n\t\t\treturn target.nodeType === 3 ? target.parentNode : target;\n\t\t}\n\n\t\tfunction getPath(event) {\n\t\t\tvar path    = [],\n\t\t\t\tpointer = event.target;\n\n\t\t\tdo {\n\t\t\t\tpath.push(pointer);\n\t\t\t} while((pointer = pointer.parentNode));\n\n\t\t\tpath.push(global);\n\n\t\t\treturn path;\n\t\t}\n\n\t\tfunction DomEvent(event) {\n\t\t\tvar self          = this,\n\t\t\t\tcurrentTarget = event.currentTarget;\n\n\t\t\tObject.defineProperties(self, {\n\t\t\t\ttarget:               { value: getTarget(event), enumerable: true },\n\t\t\t\tpath:                 { value: getPath(event), enumerable: true },\n\t\t\t\toriginalEvent:        { value: event, enumerable: true },\n\t\t\t\tisDefaultPrevented:   { get: function() { return !!(event.defaultPrevented); }, enumerable: true },\n\t\t\t\tisPropagationStopped: { get: function() { return !!(event.cancelBubble); }, enumerable: true },\n\t\t\t\tcurrentTarget:        {\n\t\t\t\t\tget:        function() { return currentTarget; },\n\t\t\t\t\tset:        function(node) { if(self.path.indexOf(node) !== -1) { currentTarget = node; } },\n\t\t\t\t\tenumerable: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn hooksEvent.process(self, event);\n\t\t}\n\n\t\tDomEvent.prototype = {\n\t\t\tisDelegate: false,\n\t\t\tpreventDefault: function() {\n\t\t\t\tvar self  = this,\n\t\t\t\t\tevent = self.originalEvent;\n\n\t\t\t\tif(self.cancelable !== false && !self.passive) {\n\t\t\t\t\tif(event.preventDefault) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tevent.returnValue = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopPropagation: function() {\n\t\t\t\tvar self  = this,\n\t\t\t\t\tevent = self.originalEvent;\n\n\t\t\t\tif(event.stopPropagation) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tevent.cancelBubble= true;\n\t\t\t},\n\t\t\tstopImmediatePropagation: function() {\n\t\t\t\tvar self  = this,\n\t\t\t\t\tevent = self.originalEvent;\n\n\t\t\t\tif(event.stopImmediatePropagation) {\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t}\n\n\t\t\t\tself.stopPropagation();\n\t\t\t}\n\n\t\t};\n\n\t\treturn DomEvent;\n\t}\n\n\tprovide([ '../hooks/event' ], definition);\n}(this));\n"]}