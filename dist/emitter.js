!function(t){"use strict";function r(r,e){function n(t){var r,e,n,o=t,i=[];try{for(;o!==l;){for(r=p(o),e=0;n=r[e];e++)i.indexOf(n)===-1&&i.push(n);o=o.__proto__}}catch(t){}return i}function o(t,r){for(var e,n=t;n&&!(e=s(n,r));)n=n.__proto__;return e}function i(){var t=this,r=t.constructor.prototype,e=n(r);e.forEach(function(e){var n,i=o(r,e);"function"==typeof t[e]&&c.test(e)===!1&&(n=e.charAt(0).toUpperCase()+e.slice(1),i.value=function(){var o;return t.emit("pre"+n,arguments),o=r[e].apply(t,arguments),t.emit("post"+n,arguments,o),o},f(t,e,i))})}function u(){var t=r.call(this);return h[t.uuid]={},a(t)!==u.prototype&&i.call(t),t}var c=/^(_|((get|has|is)([A-Z]|$))|(on|one|off|emit|constructor)$)/,f=Object.defineProperty,p=Object.getOwnPropertyNames,s=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,l=Object.prototype,h={};return u.prototype={on:function(r,e){var n,o=this,i=h[o.uuid],u=0;for(r=r.split(" ");(n=r[u])!==t;u++)(i[n]=i[n]||[]).push(e);return o},one:function(t,r,e){var n=this;return e=e!==!1,n.on(t,function o(i){n.off(e===!0?i:t,o),r.apply(this,arguments)}),n},off:function(r,n){var o,i,u,c=this,f=h[c.uuid],p=0;if(r)for(r=r.split(" ");(o=r[p])!==t;p++)if(f[o]=f[o]||[],n)for(i=0;(u=f[o][i])!==t;i++)u===n&&(f[o].splice(i,1),i--);else f[o].length=0;else e(c.listener,function(t){f[t].length=0});return c},emit:function(r){var e,n,o,i=this,u=0;if(r)for(e=h[i.uuid],e[r]=e[r]||[],n=e[r].slice();(o=n[u])!==t;u++)o.apply(i,arguments);return i}},u.extends(r)}provide(["/demand/abstract/uuid","/demand/function/iterate"],r)}();
//# sourceMappingURL=emitter.js.map
