!function(){"use strict";provide(["/demand/weakmap","../emitter","../function/merge"],function(t,i,r){var s=new t;function e(t,e){var n;if((n=s.get(t))&&n.data)return n.data[e]}function a(t,e){var n=i.call(this);return s.set(n,{settings:r({},a.settings,e),index:null,data:null}),t&&n.setData(t),n}return a.prototype={get length(){return e(this,"length")||0},get index(){return function(t,e){var n;if(n=s.get(t))return n[e]}(this,"index")},get item(){return e(this,this.index)},setData:function(t){var e,n,i=this;return"object"==typeof t&&t.length&&(n=(e=s.get(i)).settings,e.data=t,null!==n.initial&&i.seek(n.initial)),i},seek:function(t){var e=s.get(this);return(t=parseInt(t,10))!==e.index&&void 0!==e.data[t]&&(e.index=t),this},first:function(){return this.seek(0)},last:function(){return this.seek(this.length-1)},previous:function(){var t,e=this,n=s.get(e).settings;return t=!0===n.loop?(e.index-1)%e.length:e.index-1,t=!0===n.loop&&t<0?e.length+t:t,e.seek(t)},next:function(){var t,e=this;return t=!0===s.get(e).settings.loop?(e.index+1)%e.length:e.index+1,e.seek(t)}},a.settings={loop:!0,initial:0},a.extends(i)})}();
//# sourceMappingURL=iterator.js.map
